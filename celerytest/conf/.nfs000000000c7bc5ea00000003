[unix_http_server]
file=/home/xpxu/study-use/learnPython/celerytest/sockdir/myapp-supervisord.sock    ; path to your socket file

[supervisord]
logfile=/home/xpxu/study-use/learnPython/celerytest/log/myapp-supervisord.log ; Location for master supervisor log file
logfile_maxbytes=50MB                           ; maximum size of logfile before rotation
logfile_backups=4                               ; number of backed up logfiles
loglevel=debug                                  ; info, debug, warn, trace
pidfile=/home/xpxu/study-use/learnPython/celerytest/piddir/myapp-supervisord.pid  ; pidfile location
nodaemon=false
minfds=1024                                     ; number of startup file descriptors
minprocs=200                                    ; number of process descriptors
childlogdir=log/child/                  ; where child log files will live

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=/home/xpxu/study-use/learnPython/celerytest/sockdir/myapp-supervisord.sock  ; use a unix:// URL  for a unix socket


[program:celery]
command=celery worker --app myapp --pidfile /home/xpxu/study-use/learnPython/celerytest/piddir/celery-worker.pidfile
stdout_logfile=/home/xpxu/study-use/learnPython/celerytest/log/child/myapp-celery-stdout.log
stderr_logfile=/home/xpxu/study-use/learnPython/celerytest/log/child/myapp-celery-stderr.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=3
autostart=true
autorestart=true
redirect_stderr=True
startsecs=10
; wait for long running tasks to finish
stopwaitsecs = 600

[program:celerybeat]
; emptystring pidfile evaluates to no pidfile, must specify pidfile or it uses default
command=celery beat --app myapp -s celerybeat-schedule --pidfile piddir/celery-beat.pidfile
stdout_logfile==/home/xpxu/study-use/learnPython/celerytest/log/child/myapp-celerybeat-stdout.log
stderr_logfile==/home/xpxu/study-use/learnPython/celerytest/log/child/myapp-celerybeat-stderr.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=3
autostart=true
autorestart=true
redirect_stderr=True
startsecs=10
; wait for long running tasks to finish
stopwaitsecs = 600

